<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head>
	<title>로그인</title>
</head>

<style>
.l_container {
	width: 90%;
	margin: 0 auto;
}
.div_if {
	margin: 10px 20px;
	text-align: center;
	font-weight: bold;
}
.t_login {
	width: 300px;
	margin: 0 auto;
	margin-bottom: 20px;
	text-align: center;
	position: relative;
}
#eye {
	position: absolute;
	margin-top: -18px;
	margin-left: 115px;
}
</style>

<body>
	<header id="header"></header>
	<div class="l_container">
		<div class="div_if" th:if="${param.error}">로그인 실패</div>
		<div class="div_if" th:if="${param.logout}">로그아웃 완료</div>
		<div class="ll_container">
			<form th:action="@{/login}" method="post">
				<input type="hidden" name="${_csrf.parameterName}" value="${_csrf.token}" />
				<table class="t_login">
					<tr>
						<td>
					<input type="text" class="form-control" placeholder="아이디" name="username" />
				</td>
			</tr>
			<tr style="height: 5px;">
				<td></td>
			</tr>
			<tr>
				<td>
					<input type="password" class="form-control" id="login_pw" name="password" placeholder="영문+숫자+특문 8~20자" />
					<i id="eye" class="fa fa-eye-slash fa-lg"></i>
				</td>
			</tr>
		</table>
		<div class="t_login">
			<input type="submit" class="btn btn-warning" value="로그인" onclick="location.href='/header';" />
			<input type="button" class="btn btn-success" onclick="location.href='/signup';" value="회원가입" />
		</div>
	</form>
</div>
</div>

<script src="https://code.jquery.com/jquery-3.6.1.min.js"></script>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" />
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://kit.fontawesome.com/24dbe51f07.js" crossorigin="anonymous"></script>
	
	<script>

		
		$(document).ready(function () {

			// header, footer 불러오기 시작
			
			$('#header').load("../header")
			// $('#footer').load("../footer")
			
			// header, footer 불러오기 끝

		// 패스워드 보였다 안 보였다 시작
		$('#eye').on('click', function () {
			$('#login_pw').toggleClass('active');

			if ($('#login_pw').hasClass('active')) {
				$(this).attr('class', "fa fa-eye-slash fa-lg").prev('#login_pw').attr('type', "text");
			} else {
				$(this).attr('class', "fa fa-eye fa-lg").prev('#login_pw').attr('type', "password");
			}
		});
	});
	// 패스워드 보였다 안 보였다 끝

	</script>

</body>

</html>